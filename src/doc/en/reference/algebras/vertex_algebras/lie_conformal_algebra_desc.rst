Let `R` be a ring, a *Lie conformal algebra* [Kac1997]_ over `R` (also known as
a *vertex Lie algebra*) is an `R[T]` module `L` together with an `R`-bilinear
operation (called the `\lambda`-bracket) `L\otimes L \rightarrow L[\lambda]` 
(polynomials in `\lambda` with
coefficients in `L`), `a \otimes b \mapsto [a_\lambda b]` satisfying

1. Sesquilinearity:

.. MATH::

    [Ta_\lambda b] = - \lambda [a_\lambda b], \qquad [a_\lambda Tb] = (\lambda 
    + T) [a_\lambda b].

2. Skew-Symmetry:

.. MATH::

    [a_\lambda b] = - [b_{-\lambda - T} a],

where in the RHS we mean first the evaluation of `[b_\mu a]` with the formal
parameter `\mu` to the *left*, then
replace each appearance of the formal variable `\mu` by `-\lambda - T`.
Finally
apply `T` to the coefficients in `L`. 

3. Jacobi identity:

.. MATH::

   [a_\lambda [b_\mu c]] = [ [a_{\lambda + \mu} b]_\mu c] + [b_\mu
   [a_\lambda c ]],
  
which is understood as an equality in `L[\lambda,\mu]`.

`T` is usually called the *translation operation* or the *derivative*. For an
element `a \in L` we will say that `Ta` is the *derivative of* `a`.
We define the *n-th products* `a_{(n)} b` for `a,b \in L` by 

.. MATH::

    [a_\lambda b] = \sum_{n \geq 0} \frac{\lambda^n}{n!} a_{(n)} b.

A Lie conformal algebra is called *H-Graded* [DSK2006]_ if there exists a
decomposition `L = \oplus_{n \in \ZZ} L_n` such that the `\lambda`-bracket
becomes graded of degree `-1`, that is:

.. MATH::

    a_{(n)} b \in L_{p + q -n -1} \qquad  a \in L_p, \: b \in L_q, \: n \geq 0.

In particular this implies that the action of `T` increases degree by `1`.

.. NOTE::

    In the literature arbitrary gradings are allowed. In this
    implementation we only support non-negative integer gradings. 


EXAMPLES:

1. The **Virasoro** Lie conformal algebra `Vir` over a ring `R` where `12` is
invertible has two generators `L, C` as an `R[T]`-module. It is the direct sum
of a free module of rank `1` generated by `L`, and a free rank one `R` module
generated by `C` satisfying `TC = 0`.  `C` is central (the `\lambda`-bracket of
`C` with any other vector vanishes). The remaining `\lambda`-bracket is given by

.. MATH::

    [L_\lambda L] = T L + 2 \lambda L + \frac{\lambda^3}{12} C.

2. The **affine** or current Lie conformal algebra `L(\mathfrak{g})` associated
to a finite dimensional Lie algebra `\mathfrak{g}` with non-degenerate,
invariant `R`-bilinear form `(,)` is given as a central extension of the free
`R[T]` module generated by `\mathfrak{g}` by a central element `K`. The
`\lambda`-bracket of generators is given by

.. MATH::

    [a_\lambda b] = [a,b] + \lambda (a,b) K, \qquad a,b \in \mathfrak{g}

3. The **Weyl** Lie conformal algebra, or `\beta-\gamma` system is given as the
central extension of a free `R[T]` module with two generators `\beta` and
`\gamma`, by a central element `K`. The only non-trivial brackets among
generators are

.. MATH::

    [\beta_\lambda \gamma] = - [\gamma_\lambda \beta] = K

.. SEEALSO::

    :mod:`sage.algebras.vertex_algebras.lie_conformal_algebra` 


