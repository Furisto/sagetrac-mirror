diff --git a/flintxx/test/t-codegen.cpp b/flintxx/test/t-codegen.cpp
index 4ecccae..39d4892 100644
--- a/flintxx/test/t-codegen.cpp
+++ b/flintxx/test/t-codegen.cpp
@@ -639,9 +639,9 @@ DEFINE_FUNC(test_nmod_matxx_2,
         (nmodxx& to, const nmod_matxx& A))
 {
     nmod_mat_t tmp1, tmp2;
-    nmod_mat_init(tmp1, nmod_mat_nrows(A._mat()), nmod_mat_cols(A._mat()),
+    nmod_mat_init(tmp1, nmod_mat_nrows(A._mat()), nmod_mat_ncols(A._mat()),
             A.modulus());
-    nmod_mat_init(tmp2, nmod_mat_cols(A._mat()), nmod_mat_cols(A._mat()),
+    nmod_mat_init(tmp2, nmod_mat_ncols(A._mat()), nmod_mat_ncols(A._mat()),
             A.modulus());
     nmod_mat_transpose(tmp1, A._mat());
     nmod_mat_mul(tmp1, tmp2, A._mat());
diff --git a/nmod_mat.h b/nmod_mat.h
index 1971b52..705d749 100644
--- a/nmod_mat.h
+++ b/nmod_mat.h
@@ -84,7 +84,7 @@ slong nmod_mat_nrows(const nmod_mat_t mat)
 }
 
 NMOD_MAT_INLINE
-slong nmod_mat_cols(const nmod_mat_t mat)
+slong nmod_mat_ncols(const nmod_mat_t mat)
 {
    return mat->c;
 }
diff --git a/nmod_matxx.h b/nmod_matxx.h
index 3ef17ac..825af51 100644
--- a/nmod_matxx.h
+++ b/nmod_matxx.h
@@ -241,7 +241,7 @@ struct matrix_traits<nmod_matxx>
     }
     template<class M> static slong cols(const M& m)
     {
-        return nmod_mat_cols(m._mat());
+        return nmod_mat_ncols(m._mat());
     }
 
     template<class M> static nmodxx_srcref at(const M& m, slong i, slong j)
