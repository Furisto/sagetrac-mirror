Pass -no-undefined to libtool on Cygwin.

This includes autogenerated changes due to autoreconfiguration of the build system.
diff -druN zeromq-4.0.5.tmp/configure.ac zeromq-4.0.5.new/configure.ac
--- zeromq-4.0.5.tmp/configure.ac	2014-10-14 01:06:40.000000000 -0700
+++ zeromq-4.0.5.new/configure.ac	2014-11-24 07:25:23.300189163 -0800
@@ -248,6 +248,7 @@
         if test "x$enable_static" = "xyes"; then
             AC_MSG_ERROR([Building static libraries is not supported under Cygwin])
         fi
+        libzmq_on_cygwin="yes"
         ;;
     *)
         AC_MSG_ERROR([unsupported system: ${host_os}.])
@@ -429,6 +430,7 @@
 
 AM_CONDITIONAL(BUILD_PGM, test "x$libzmq_pgm_ext" = "xyes")
 AM_CONDITIONAL(ON_MINGW, test "x$libzmq_on_mingw32" = "xyes")
+AM_CONDITIONAL(ON_CYGWIN, test "x$libzmq_on_cygwin" = "xyes")
 AM_CONDITIONAL(ON_ANDROID, test "x$libzmq_on_android" = "xyes")
 AM_CONDITIONAL(ON_LINUX, test "x$libzmq_on_linux" = "xyes")
 
diff -druN zeromq-4.0.5.tmp/src/Makefile.am zeromq-4.0.5.new/src/Makefile.am
--- zeromq-4.0.5.tmp/src/Makefile.am	2014-03-10 14:41:29.000000000 -0700
+++ zeromq-4.0.5.new/src/Makefile.am	2014-11-24 07:25:23.320189193 -0800
@@ -175,6 +175,9 @@
 else
 if ON_LINUX
 libzmq_la_LDFLAGS = -version-info @LTVER@ @LIBZMQ_EXTRA_LDFLAGS@ -Wl,--version-script=$(srcdir)/libzmq.vers
+if ON_CYGWIN
+libzmq_la_LDFLAGS += -no-undefined
+endif
 else
 libzmq_la_LDFLAGS = -version-info @LTVER@ @LIBZMQ_EXTRA_LDFLAGS@ -Wl
 endif
diff -druN zeromq-4.0.5.tmp/configure zeromq-4.0.5.new/configure
--- zeromq-4.0.5.tmp/configure	2014-11-24 07:21:32.869855520 -0800
+++ zeromq-4.0.5.new/configure	2014-11-24 07:25:35.310206582 -0800
@@ -623,6 +623,8 @@
 ON_LINUX_TRUE
 ON_ANDROID_FALSE
 ON_ANDROID_TRUE
+ON_CYGWIN_FALSE
+ON_CYGWIN_TRUE
 ON_MINGW_FALSE
 ON_MINGW_TRUE
 BUILD_PGM_FALSE
@@ -17579,6 +17581,7 @@
         if test "x$enable_static" = "xyes"; then
             as_fn_error $? "Building static libraries is not supported under Cygwin" "$LINENO" 5
         fi
+        libzmq_on_cygwin="yes"
         ;;
     *)
         as_fn_error $? "unsupported system: ${host_os}." "$LINENO" 5
@@ -19405,6 +19408,14 @@
   ON_MINGW_FALSE=
 fi
 
+ if test "x$libzmq_on_cygwin" = "xyes"; then
+  ON_CYGWIN_TRUE=
+  ON_CYGWIN_FALSE='#'
+else
+  ON_CYGWIN_TRUE='#'
+  ON_CYGWIN_FALSE=
+fi
+
  if test "x$libzmq_on_android" = "xyes"; then
   ON_ANDROID_TRUE=
   ON_ANDROID_FALSE='#'
@@ -19879,6 +19890,10 @@
   as_fn_error $? "conditional \"ON_MINGW\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
+if test -z "${ON_CYGWIN_TRUE}" && test -z "${ON_CYGWIN_FALSE}"; then
+  as_fn_error $? "conditional \"ON_CYGWIN\" was never defined.
+Usually this means the macro was only invoked conditionally." "$LINENO" 5
+fi
 if test -z "${ON_ANDROID_TRUE}" && test -z "${ON_ANDROID_FALSE}"; then
   as_fn_error $? "conditional \"ON_ANDROID\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
diff -druN zeromq-4.0.5.tmp/src/Makefile.in zeromq-4.0.5.new/src/Makefile.in
--- zeromq-4.0.5.tmp/src/Makefile.in	2014-11-24 07:21:35.069858701 -0800
+++ zeromq-4.0.5.new/src/Makefile.in	2014-11-24 07:25:37.500209759 -0800
@@ -36,6 +36,7 @@
 POST_UNINSTALL = :
 build_triplet = @build@
 host_triplet = @host@
+@ON_ANDROID_FALSE@@ON_CYGWIN_TRUE@@ON_LINUX_TRUE@@ON_MINGW_FALSE@am__append_1 = -no-undefined
 subdir = src
 DIST_COMMON = $(include_HEADERS) $(srcdir)/Makefile.am \
 	$(srcdir)/Makefile.in $(srcdir)/libzmq.pc.in \
@@ -468,9 +469,18 @@
     dbuffer.hpp
 
 @ON_ANDROID_FALSE@@ON_LINUX_FALSE@@ON_MINGW_FALSE@libzmq_la_LDFLAGS = -version-info @LTVER@ @LIBZMQ_EXTRA_LDFLAGS@ -Wl
-@ON_ANDROID_FALSE@@ON_LINUX_TRUE@@ON_MINGW_FALSE@libzmq_la_LDFLAGS = -version-info @LTVER@ @LIBZMQ_EXTRA_LDFLAGS@ -Wl,--version-script=$(srcdir)/libzmq.vers
-@ON_ANDROID_TRUE@@ON_MINGW_FALSE@libzmq_la_LDFLAGS = -avoid-version -version-info @LTVER@ @LIBZMQ_EXTRA_LDFLAGS@
-@ON_MINGW_TRUE@libzmq_la_LDFLAGS = -no-undefined -avoid-version -version-info @LTVER@ @LIBZMQ_EXTRA_LDFLAGS@
+@ON_ANDROID_FALSE@@ON_LINUX_TRUE@@ON_MINGW_FALSE@libzmq_la_LDFLAGS = -version-info \
+@ON_ANDROID_FALSE@@ON_LINUX_TRUE@@ON_MINGW_FALSE@	@LTVER@ \
+@ON_ANDROID_FALSE@@ON_LINUX_TRUE@@ON_MINGW_FALSE@	@LIBZMQ_EXTRA_LDFLAGS@ \
+@ON_ANDROID_FALSE@@ON_LINUX_TRUE@@ON_MINGW_FALSE@	-Wl,--version-script=$(srcdir)/libzmq.vers \
+@ON_ANDROID_FALSE@@ON_LINUX_TRUE@@ON_MINGW_FALSE@	$(am__append_1)
+@ON_ANDROID_TRUE@@ON_MINGW_FALSE@libzmq_la_LDFLAGS = -avoid-version \
+@ON_ANDROID_TRUE@@ON_MINGW_FALSE@	-version-info @LTVER@ \
+@ON_ANDROID_TRUE@@ON_MINGW_FALSE@	@LIBZMQ_EXTRA_LDFLAGS@ \
+@ON_ANDROID_TRUE@@ON_MINGW_FALSE@	$(am__append_1)
+@ON_MINGW_TRUE@libzmq_la_LDFLAGS = -no-undefined -avoid-version \
+@ON_MINGW_TRUE@	-version-info @LTVER@ @LIBZMQ_EXTRA_LDFLAGS@ \
+@ON_MINGW_TRUE@	$(am__append_1)
 EXTRA_DIST = libzmq.vers
 libzmq_la_CXXFLAGS = @LIBZMQ_EXTRA_CXXFLAGS@
 @BUILD_PGM_TRUE@libzmq_la_CPPFLAGS = -I$(top_srcdir)/@pgm_srcdir@/include/
