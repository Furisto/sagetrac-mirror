See https://github.com/python/cpython/pull/6791

commit 990b44bd70cd772bf5d1b14dffa25958ad1ec5d9
Author: Jeroen Demeyer <jdemeyer@cage.ugent.be>
Date:   Mon May 14 12:05:32 2018 +0200

    Don't compile extensions with -Wstrict-prototypes

diff --git a/Lib/distutils/sysconfig.py b/Lib/distutils/sysconfig.py
index e07a6c8..a1dc5f6 100644
--- a/Lib/distutils/sysconfig.py
+++ b/Lib/distutils/sysconfig.py
@@ -207,6 +207,11 @@ def customize_compiler(compiler):
         else:
             archiver = ar + ' ' + ar_flags
 
+        # bpo-5755: remove -Wstrict-prototypes from flags because this
+        # flag is invalid for C++ code (and distutils uses the same
+        # compiler for both C and C++).
+        cflags = cflags.replace("-Wstrict-prototypes", "")
+
         cc_cmd = cc + ' ' + cflags
         compiler.set_executables(
             preprocessor=cpp,
